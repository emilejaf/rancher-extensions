{"version":3,"sources":["webpack://node-driver-0.1.1/./machine-config/viarezo.vue","webpack://node-driver-0.1.1/machine-config/viarezo.vue","webpack://node-driver-0.1.1/./machine-config/viarezo.vue?88d0","webpack://node-driver-0.1.1/./machine-config/viarezo.vue?a875","webpack://node-driver-0.1.1/./machine-config/viarezo.vue?a0a9","webpack://node-driver-0.1.1/./machine-config/viarezo.vue?3b8d","webpack://node-driver-0.1.1/./machine-config/viarezo.vue?56aa","webpack://node-driver-0.1.1/./.shell/assets/brand sync ^\\.\\/.*\\/metadata\\.json$","webpack://node-driver-0.1.1/./openstack.ts"],"names":["render","_vm","this","_c","_self","$fetchState","pending","attrs","_e","errors","length","_l","err","idx","key","stringify","staticClass","_v","authenticating","flavors","options","enabled","busy","model","value","selected","callback","$$v","$set","expression","images","securityGroups","networks","mode","sshUser","volumeSize","serverGroupName","staticRenderFns","initOptions","components","Banner","Loading","LabeledInput","LabeledSelect","mixins","CreateEditView","props","uuid","type","String","required","cluster","Object","default","credentialId","disabled","Boolean","provider","_VIEW","initForViewMode","credential","$store","dispatch","NORMAN","CLOUD_CREDENTIAL","id","e","replace","secret","SECRET","data","password","atob","ready","console","error","os","Openstack","getToken","then","res","_this$value","_this$value2","_this$value3","_this$value4","$emit","push","getFlavors","flavorName","getImages","imageName","getSecurityGroups","secGroups","getNetworkNames","netName","_this$value5","_this$value6","_this$value7","watch","$fetch","methods","_this$value8","_this$value9","_this$value10","_this$value11","fakeSelectOptions","flavorId","imageId","netId","list","label","syncValue","_this$flavors$selecte","_this$images$selected","_this$networks$select","_this$securityGroups$","authUrl","endpoint","domainId","username","projectId","name","region","endpointType","availabilityZone","test","component","content","__esModule","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","resolve","constructor","obj","_defineProperty","annotations","forEach","p","split","field","$dispatch","baseUrl","url","auth","identity","user","domain","domainName","scope","project","headers","Accept","_res$token","_res$token2","method","redirectUnauthorized","root","_status","token","_headers","userId","regionsFromCatalog","catalog","endpoints","service","iface","find","svc","interface","region_id","includes","initial","getOptions","undefined","v","keypair","network","zone","zoneName","api","mapper","makeComputeRequest","k","convertToOptions","found","option","projects","regions","sorted","sort","a","b","localeCompare"],"mappings":"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","file":"node-driver-0.1.1.umd.min.machine-config.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.$fetchState.pending)?_c('Loading',{attrs:{\"delayed\":true}}):_vm._e(),(_vm.errors.length)?_c('div',_vm._l((_vm.errors),function(err,idx){return _c('div',{key:idx},[_c('Banner',{attrs:{\"color\":\"error\",\"label\":_vm.stringify(err)}})],1)}),0):_vm._e(),_c('div',[_c('div',{staticClass:\"openstack-config\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" Openstack Configuration \")]),(_vm.authenticating)?_c('div',{staticClass:\"loading\"},[_c('i',{staticClass:\"icon-spinner icon-spin icon-lg\"}),_c('span',[_vm._v(\" Authenticating with the Openstack server ... \")])]):_vm._e()]),_c('div',{staticClass:\"row mt-10\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label\":\"Flavor\",\"options\":_vm.flavors.options,\"disabled\":!_vm.flavors.enabled || _vm.busy,\"loading\":_vm.flavors.busy,\"searchable\":false},model:{value:(_vm.flavors.selected),callback:function ($$v) {_vm.$set(_vm.flavors, \"selected\", $$v)},expression:\"flavors.selected\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label\":\"Image\",\"options\":_vm.images.options,\"disabled\":!_vm.images.enabled || _vm.busy,\"loading\":_vm.images.busy,\"searchable\":false},model:{value:(_vm.images.selected),callback:function ($$v) {_vm.$set(_vm.images, \"selected\", $$v)},expression:\"images.selected\"}})],1)]),_c('div',{staticClass:\"row mt-10\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label\":\"Security Groups\",\"options\":_vm.securityGroups.options,\"disabled\":!_vm.securityGroups.enabled || _vm.busy,\"loading\":_vm.securityGroups.busy,\"searchable\":false},model:{value:(_vm.securityGroups.selected),callback:function ($$v) {_vm.$set(_vm.securityGroups, \"selected\", $$v)},expression:\"securityGroups.selected\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledSelect',{attrs:{\"label\":\"Networks\",\"options\":_vm.networks.options,\"disabled\":!_vm.networks.enabled || _vm.busy,\"loading\":_vm.networks.busy,\"searchable\":false},model:{value:(_vm.networks.selected),callback:function ($$v) {_vm.$set(_vm.networks, \"selected\", $$v)},expression:\"networks.selected\"}})],1)]),_c('div',{staticClass:\"row mt-10\"},[_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"mode\":_vm.mode,\"disabled\":_vm.busy,\"label\":\"SSH User\"},model:{value:(_vm.sshUser),callback:function ($$v) {_vm.sshUser=$$v},expression:\"sshUser\"}})],1),_c('div',{staticClass:\"col span-6\"},[_c('LabeledInput',{attrs:{\"mode\":_vm.mode,\"disabled\":_vm.busy,\"label\":\"Volume Size (in GB)\"},model:{value:(_vm.volumeSize),callback:function ($$v) {_vm.volumeSize=$$v},expression:\"volumeSize\"}})],1)]),_c('div',{staticClass:\"row mt-10\"},[_c('LabeledInput',{attrs:{\"mode\":_vm.mode,\"disabled\":_vm.busy,\"label\":\"Server Group Name\"},model:{value:(_vm.serverGroupName),callback:function ($$v) {_vm.serverGroupName=$$v},expression:\"serverGroupName\"}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport Loading from '@shell/components/Loading';\nimport { Banner } from '@components/Banner';\nimport CreateEditView from '@shell/mixins/create-edit-view';\nimport LabeledSelect from '@shell/components/form/LabeledSelect';\nimport { LabeledInput } from '@components/Form/LabeledInput';\nimport { NORMAN, SECRET } from '@shell/config/types';\nimport { stringify } from '@shell/utils/error';\nimport { _VIEW } from '@shell/config/query-params';\nimport { Openstack } from '../openstack';\n\nfunction initOptions() {\n  return {\n    options: [],\n    selected: null,\n    busy: false,\n    enabled: false,\n  };\n}\n\nexport default {\n  components: {\n    Banner, Loading, LabeledInput, LabeledSelect\n  },\n\n  mixins: [CreateEditView],\n\n  props: {\n    uuid: {\n      type: String,\n      required: true,\n    },\n\n    cluster: {\n      type: Object,\n      default: () => ({})\n    },\n\n    credentialId: {\n      type: String,\n      required: true,\n    },\n\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n\n    busy: {\n      type: Boolean,\n      default: false\n    },\n\n    provider: {\n      type: String,\n      required: true,\n    }\n  },\n\n  async fetch() {\n    this.errors = [];\n    if (!this.credentialId) {\n      return;\n    }\n\n    if (this.mode === _VIEW) {\n      this.initForViewMode();\n\n      return;\n    }\n\n    try {\n      this.credential = await this.$store.dispatch('rancher/find', { type: NORMAN.CLOUD_CREDENTIAL, id: this.credentialId });\n    } catch (e) {\n      this.credential = null;\n    }\n\n    // Try and get the secret for the Cloud Credential as we need the plain-text password\n    try {\n      const id = this.credentialId.replace(':', '/');\n      const secret = await this.$store.dispatch('management/find', { type: SECRET, id });\n      const data = secret.data['viarezocredentialConfig-password'];\n      const password = atob(data);\n\n      this.password = password;\n      this.ready = true;\n    } catch (e) {\n      this.password = '';\n      console.error(e); // eslint-disable-line no-console\n    }\n\n    this.authenticating = true;\n\n    const os = new Openstack(this.$store, this.credential);\n\n    os.password = this.password;\n\n    this.os = os;\n\n    // Fetch a token - if this succeeds, kick off async fetching the lists we need\n    this.os.getToken().then((res) => {\n      if (res.error) {\n        this.authenticating = false;\n        this.$emit('validationChanged', false);\n\n        this.errors.push('Unable to authenticate with the OpenStack server');\n\n        return;\n      }\n\n      this.authenticating = false;\n\n      os.getFlavors(this.flavors, this.value?.flavorName);\n      os.getImages(this.images, this.value?.imageName);\n      os.getSecurityGroups(this.securityGroups, this.value?.secGroups);\n      os.getNetworkNames(this.networks, this.value?.netName);\n    });\n\n    this.$emit('validationChanged', true);\n  },\n\n  data() {\n    return {\n      authenticating: false,\n      ready: false,\n      os: null,\n      password: null,\n      flavors: initOptions(),\n      images: initOptions(),\n      securityGroups: initOptions(),\n      networks: initOptions(),\n      sshUser: this.value?.sshUser || 'ubuntu',\n      volumeSize: this.value?.volumeSize || '20',\n      serverGroupName: this.value?.serverGroupName || '',\n      errors: null,\n    };\n  },\n\n  watch: {\n    'credentialId'() {\n      this.$fetch();\n    },\n  },\n\n  methods: {\n    stringify,\n\n    initForViewMode() {\n      this.fakeSelectOptions(this.flavors, this.value?.flavorId);\n      this.fakeSelectOptions(this.images, this.value?.imageId);\n      this.fakeSelectOptions(this.securityGroups, this.value?.secGroups);\n      this.fakeSelectOptions(this.networks, this.value?.netId);\n    },\n\n    fakeSelectOptions(list, value) {\n      list.busy = false;\n      list.enabled = false;\n      list.options = [];\n\n      if (value) {\n        list.options.push({\n          label: value,\n          value,\n        });\n      }\n\n      list.selected = value;\n    },\n\n    syncValue() {\n      // Note: We don't need to provide password as this is picked up via the credential\n\n      // Copy the values from the form to the correct places on the value\n      this.value.authUrl = this.os.endpoint;\n      this.value.domainId = this.os.domainId;\n      this.value.username = this.os.username;\n      this.value.projectId = this.os.projectId;\n      this.value.flavorId = this.flavors.selected?.id;\n      this.value.imageId = this.images.selected?.id;\n      this.value.netId = this.networks.selected?.id;\n      this.value.secGroups = this.securityGroups.selected?.name;\n      this.value.sshUser = this.sshUser;\n      this.value.region = this.os.region;\n      this.value.serverGroupName = this.serverGroupName;\n      this.value.volumeSize = this.volumeSize;\n\n      // Not configurable\n      this.value.endpointType = 'publicURL';\n      this.value.availabilityZone = \"nova\";\n\n    },\n\n    test() {\n      this.syncValue();\n    }\n  }\n};\n</script>\n\n<template>\n  <div>\n    <Loading v-if=\"$fetchState.pending\" :delayed=\"true\" />\n    <div v-if=\"errors.length\">\n      <div v-for=\"(err, idx) in errors\" :key=\"idx\">\n        <Banner color=\"error\" :label=\"stringify(err)\" />\n      </div>\n    </div>\n    <div>\n      <div class=\"openstack-config\">\n        <div class=\"title\">\n          Openstack Configuration\n        </div>\n        <div v-if=\"authenticating\" class=\"loading\">\n          <i class=\"icon-spinner icon-spin icon-lg\" />\n          <span>\n            Authenticating with the Openstack server ...\n          </span>\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect v-model=\"flavors.selected\" label=\"Flavor\" :options=\"flavors.options\"\n            :disabled=\"!flavors.enabled || busy\" :loading=\"flavors.busy\" :searchable=\"false\" />\n        </div>\n\n        <div class=\"col span-6\">\n          <LabeledSelect v-model=\"images.selected\" label=\"Image\" :options=\"images.options\"\n            :disabled=\"!images.enabled || busy\" :loading=\"images.busy\" :searchable=\"false\" />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledSelect v-model=\"securityGroups.selected\" label=\"Security Groups\" :options=\"securityGroups.options\"\n            :disabled=\"!securityGroups.enabled || busy\" :loading=\"securityGroups.busy\" :searchable=\"false\" />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledSelect v-model=\"networks.selected\" label=\"Networks\" :options=\"networks.options\"\n            :disabled=\"!networks.enabled || busy\" :loading=\"networks.busy\" :searchable=\"false\" />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <div class=\"col span-6\">\n          <LabeledInput v-model=\"sshUser\" :mode=\"mode\" :disabled=\"busy\" label=\"SSH User\" />\n        </div>\n        <div class=\"col span-6\">\n          <LabeledInput v-model=\"volumeSize\" :mode=\"mode\" :disabled=\"busy\" label=\"Volume Size (in GB)\" />\n        </div>\n      </div>\n      <div class=\"row mt-10\">\n        <LabeledInput v-model=\"serverGroupName\" :mode=\"mode\" :disabled=\"busy\" label=\"Server Group Name\" />\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped lang=\"scss\">\n.file-button {\n  align-items: center;\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  display: flex;\n\n  >.file-selector {\n    height: calc($input-height - 2px);\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n  }\n}\n\n.openstack-config {\n  display: flex;\n  align-items: center;\n\n  >.title {\n    font-weight: bold;\n    padding: 4px 0;\n  }\n\n  >.loading {\n    margin-left: 20px;\n    display: flex;\n    align-items: center;\n\n    >i {\n      margin-right: 4px;\n      ;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viarezo.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viarezo.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./viarezo.vue?vue&type=template&id=68c36e4a&scoped=true\"\nimport script from \"./viarezo.vue?vue&type=script&lang=js\"\nexport * from \"./viarezo.vue?vue&type=script&lang=js\"\nimport style0 from \"./viarezo.vue?vue&type=style&index=0&id=68c36e4a&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68c36e4a\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viarezo.vue?vue&type=style&index=0&id=68c36e4a&prod&scoped=true&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"75652a4f\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-3!../../../node_modules/sass-loader/dist/cjs.js??ref--10-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./viarezo.vue?vue&type=style&index=0&id=68c36e4a&prod&scoped=true&lang=scss\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".file-button[data-v-68c36e4a]{align-items:center;position:absolute;top:0;right:0;height:100%;display:flex}.file-button>.file-selector[data-v-68c36e4a]{height:59px;border-top-left-radius:0;border-bottom-left-radius:0}.openstack-config[data-v-68c36e4a]{display:flex;align-items:center}.openstack-config>.title[data-v-68c36e4a]{font-weight:700;padding:4px 0}.openstack-config>.loading[data-v-68c36e4a]{margin-left:20px;display:flex;align-items:center}.openstack-config>.loading>i[data-v-68c36e4a]{margin-right:4px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var map = {\n\t\"./csp/metadata.json\": \"7f57\",\n\t\"./federal/metadata.json\": \"66fa\",\n\t\"./rgs/metadata.json\": \"45d2\",\n\t\"./suse/metadata.json\": \"1d5f\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"dad7\";","/**\n * Helper class for dealing with the Openstack API\n *\n * Openstack API Docs:\n *\n *  https://docs.openstack.org/api-ref/compute/index.html\n *\n */\nexport class Openstack {\n  public domainId: string = \"\";\n  public domainName: string = \"\";\n  public endpoint: string = \"\";\n  public projectDomainName: string = \"\";\n  public projectId: string = \"\";\n  public username: string = \"\";\n  public password: string = \"\";\n  public token: string = \"\";\n  public region: string = \"\";\n  private catalog: any;\n  private endpoints: any;\n  private userId: string = \"\";\n\n  private $dispatch: any;\n\n  public regionsFromCatalog: any[] = [];\n\n  constructor($store: any, obj: any) {\n    if (obj.annotations) {\n      Object.keys(obj.annotations).forEach((key) => {\n        const p = key.split(\"/\");\n\n        if (p.length === 2 && p[0] === \"viarezo.cattle.io\") {\n          const field = p[1];\n\n          (this as any)[field] = obj.annotations[key];\n        }\n      });\n    } else {\n      // Copy from options to this\n      Object.keys(obj).forEach((key) => {\n        (this as any)[key] = obj[key];\n      });\n    }\n\n    this.$dispatch = $store.dispatch;\n  }\n\n  public async getToken() {\n    const endpoint = this.endpoint.replace(/^https?:\\/\\//, \"\");\n    const baseUrl = `/meta/proxy/${endpoint}`;\n    const url = `${baseUrl}/auth/tokens`;\n\n    const data = {\n      auth: {\n        identity: {\n          methods: [\"password\"],\n          password: {\n            user: {\n              name: this.username,\n              domain: { name: this.domainName },\n              password: this.password,\n            },\n          },\n        },\n      },\n    };\n\n    if (this.projectId) {\n      (data as any).auth.scope = {\n        project: {\n          id: this.projectId,\n        },\n      };\n    }\n\n    const headers = { Accept: \"application/json\" };\n\n    try {\n      const res = await this.$dispatch(\n        \"management/request\",\n        {\n          url,\n          headers,\n          method: \"POST\",\n          redirectUnauthorized: false,\n          data,\n        },\n        { root: true }\n      );\n\n      if (res._status === 502) {\n        return {\n          error:\n            \"Could not proxy request - URL may not be in Rancher's allow list\",\n        };\n      }\n\n      const token = res._headers[\"x-subject-token\"];\n\n      this.token = token;\n\n      this.userId = res?.token?.user?.id;\n\n      this.domainId = res?.token?.project?.domain?.id;\n\n      this.regionsFromCatalog = [];\n\n      if ((data as any).auth.scope && res?.token) {\n        this.catalog = res.token.catalog;\n        this.endpoints = {};\n        this.catalog.forEach((service: any) => {\n          const iface = service.endpoints.find(\n            (svc: any) => svc.interface === \"public\"\n          );\n\n          // Only use the interfaces for the region\n          if (iface && iface.region_id === this.region) {\n            this.endpoints[service.type] = iface.url;\n          }\n\n          if (iface && service.type === \"compute\") {\n            if (!this.regionsFromCatalog.includes(iface.region_id)) {\n              this.regionsFromCatalog.push(iface.region_id);\n            }\n          }\n        });\n      }\n\n      this.regionsFromCatalog = this.regionsFromCatalog.map((id) => {\n        return { id };\n      });\n\n      return res;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return { error: e };\n    }\n  }\n\n  public async getFlavors(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/flavors\",\n      \"flavors\",\n      undefined,\n      initial\n    );\n  }\n\n  public async getImages(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/images/detail\",\n      \"images\",\n      undefined,\n      initial\n    );\n  }\n\n  public async getKeyPairs(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/os-keypairs\",\n      \"keypairs\",\n      (v: any) => v.keypair,\n      initial\n    );\n  }\n\n  public async getSecurityGroups(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/os-security-groups\",\n      \"security_groups\",\n      undefined,\n      initial\n    );\n  }\n\n  public async getFloatingIpPools(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/os-floating-ip-pools\",\n      \"floating_ip_pools\",\n      undefined,\n      initial\n    );\n  }\n\n  public async getNetworkNames(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/os-tenant-networks\",\n      \"networks\",\n      (network: any) => {\n        return {\n          ...network,\n          name: network.label,\n        };\n      },\n      initial\n    );\n  }\n\n  public async getAvailabilityZones(value: any, initial?: string) {\n    return await this.getOptions(\n      value,\n      \"/os-availability-zone\",\n      \"availabilityZoneInfo\",\n      (zone: any) => {\n        return {\n          ...zone,\n          name: zone.zoneName,\n        };\n      },\n      initial\n    );\n  }\n\n  public async getOptions(\n    value: any,\n    api: string,\n    field: string,\n    mapper?: Function,\n    initial?: string\n  ) {\n    // We are fetching the data for the options\n    value.busy = true;\n    value.enabled = true;\n    value.selected = \"\";\n\n    const res = await this.makeComputeRequest(api);\n\n    if (res && (res as any)[field]) {\n      let list = (res as any)[field] || [];\n\n      if (mapper) {\n        list = list.map((k: any) => mapper(k));\n      }\n\n      value.options = this.convertToOptions(list);\n      value.busy = false;\n\n      if (initial) {\n        const found = value.options.find(\n          (option: any) => option.value.id === initial\n        );\n\n        if (found) {\n          value.selected = found.value;\n        }\n      }\n\n      if (!value.selected && value.options.length > 0) {\n        value.selected = value.options[0].value;\n      }\n    } else {\n      value.options = [];\n      value.selected = null;\n      value.busy = false;\n      value.enabled = false;\n    }\n  }\n\n  public async makeComputeRequest(api: string) {\n    const endpoint = this.endpoints[\"compute\"].replace(/^https?:\\/\\//, \"\");\n    const baseUrl = `/meta/proxy/${endpoint}`;\n    const url = `${baseUrl}${api}`;\n\n    const headers = {\n      Accept: \"application/json\",\n      \"X-Auth-Token\": this.token,\n    };\n\n    try {\n      const res = await this.$dispatch(\n        \"management/request\",\n        {\n          url,\n          headers,\n          method: \"GET\",\n          redirectUnauthorized: false,\n        },\n        { root: true }\n      );\n\n      return res;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n    }\n  }\n\n  public async getProjects() {\n    const endpoint = this.endpoint.replace(/^https?:\\/\\//, \"\");\n    const baseUrl = `/meta/proxy/${endpoint}`;\n\n    const headers = {\n      Accept: \"application/json\",\n      \"X-Auth-Token\": this.token,\n    };\n\n    try {\n      const res = await this.$dispatch(\n        \"management/request\",\n        {\n          url: `${baseUrl}/users/${this.userId}/projects`,\n          headers,\n          method: \"GET\",\n          redirectUnauthorized: false,\n        },\n        { root: true }\n      );\n\n      return res?.projects;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return { error: e };\n    }\n  }\n\n  public async getRegions() {\n    const endpoint = this.endpoint.replace(/^https?:\\/\\//, \"\");\n    const baseUrl = `/meta/proxy/${endpoint}`;\n\n    const headers = {\n      Accept: \"application/json\",\n      \"X-Auth-Token\": this.token,\n    };\n\n    try {\n      const res = await this.$dispatch(\n        \"management/request\",\n        {\n          url: `${baseUrl}/regions`,\n          headers,\n          method: \"GET\",\n          redirectUnauthorized: false,\n        },\n        { root: true }\n      );\n\n      return res?.regions;\n    } catch (e) {\n      console.error(e); // eslint-disable-line no-console\n\n      return { error: e };\n    }\n  }\n\n  private convertToOptions(list: any) {\n    const sorted = (list || []).sort((a: any, b: any) =>\n      a.name.localeCompare(b.name)\n    );\n\n    return sorted.map((p: any) => {\n      return {\n        label: p.name,\n        value: p,\n      };\n    });\n  }\n}\n"],"sourceRoot":""}